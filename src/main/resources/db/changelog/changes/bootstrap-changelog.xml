<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                    http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">

  <changeSet id="1" author="higor">
    <preConditions onFail="MARK_RAN">
      <not>
        <sequenceExists sequenceName="book_seq"/>
      </not>
    </preConditions>
    <createSequence sequenceName="book_seq" incrementBy="1"/>
  </changeSet>

  <changeSet id="2" author="higor">
    <preConditions onFail="MARK_RAN">
      <not>
        <tableExists tableName="book"/>
      </not>
    </preConditions>

    <createTable tableName="book">
      <column name="id" type="integer"/>
      <column name="title" type="varchar(255)"/>
      <column name="subtitle" type="varchar(255)"/>
      <column name="author" type="varchar(100)"/>
      <column name="publishing_company" type="varchar(100)"/>
      <column name="pages" type="integer"/>
      <column name="read" type="boolean"/>
    </createTable>
    <addNotNullConstraint tableName="book" columnName="id"/>
    <addNotNullConstraint tableName="book" columnName="title"/>
    <addNotNullConstraint tableName="book" columnName="author"/>
    <addPrimaryKey tableName="book" columnNames="id" constraintName="book_pkey"/>
  </changeSet>
</databaseChangeLog>